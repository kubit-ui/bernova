# PNPM v10 Configuration for Bernova
# https://pnpm.io/npmrc

# === Core Configuration ===
# Use isolated node_modules structure (prevents phantom dependencies)
node-linker=isolated

# Don't hoist packages to root (safer, prevents accessing undeclared deps)
shamefully-hoist=false

# Use hard links instead of copying files (faster, saves disk space)
package-import-method=hardlink

# === Dependency Resolution ===
# Automatically install peer dependencies
auto-install-peers=true

# Don't fail on peer dependency conflicts (more flexible)
strict-peer-dependencies=false

# Dedupe peer dependencies to save space
dedupe-peer-dependents=true

# === Performance ===
# Cache side effects for faster installs
side-effects-cache=true

# Allow reading from side effects cache
side-effects-cache-readonly=false

# Use network concurrency for faster downloads
network-concurrency=16

# === Registry ===
registry=https://registry.npmjs.org/

# === Lockfile ===
# Allow lockfile updates (useful for development)
frozen-lockfile=false

# Fail if lockfile is out of sync in CI (override with --frozen-lockfile flag)
prefer-frozen-lockfile=false

# === Store ===
# Verify store integrity on install
verify-store-integrity=true

# === Scripts ===
# Enable pre/post scripts
enable-pre-post-scripts=true

# === Workspace (for future use if needed) ===
# Link workspace packages
link-workspace-packages=true

# === Logging ===
# Show progress during install
progress=true

# Log level (can be: silent, error, warn, info, debug)
loglevel=warn

